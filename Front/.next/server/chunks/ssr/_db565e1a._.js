module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},53250,a=>{"use strict";async function b(a,b){let c=`https://laterrasse.onrender.com${a}`,d={...b,headers:{"Content-Type":"application/json",...b?.headers}};try{let a=await fetch(c,d);if(!a.ok)throw Error(`API Error: ${a.status} ${a.statusText}`);return await a.json()}catch(b){throw console.error(`Erreur API ${a}:`,b),b}}a.s(["api",0,{posts:{getAll:()=>b("/api/posts"),getById:a=>b(`/api/posts/${a}`),create:a=>b("/api/posts",{method:"POST",body:a,headers:{}})},gameScores:{getTop:a=>b(`/api/game-scores/top${a?`?difficulty=${a}`:""}`),submit:a=>b("/api/game-scores",{method:"POST",body:JSON.stringify(a)})},menu:{getAll:()=>b("/api/menu"),getByCategory:a=>b(`/api/menu?category=${a}`)},legends:{getAll:()=>b("/api/legends"),getApproved:()=>b("/api/legends?approved=true"),submit:a=>b("/api/legends",{method:"POST",body:a,headers:{}}),vote:a=>b(`/api/legends/${a}/vote`,{method:"POST"})},auth:{login:(a,c)=>b("/api/auth/login",{method:"POST",body:JSON.stringify({email:a,password:c})}),register:a=>b("/api/auth/register",{method:"POST",body:JSON.stringify(a)}),me:a=>b("/api/auth/me",{headers:{Authorization:`Bearer ${a}`}})}}])},12466,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(23177);let e=(0,c.forwardRef)(({variant:a="primary",size:c="md",isLoading:e=!1,className:f,children:g,disabled:h,...i},j)=>(0,b.jsx)("button",{ref:j,className:(0,d.cn)("font-bebas inline-flex items-center justify-center rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-terrasse-red text-white hover:bg-terrasse-red/90 focus:ring-terrasse-red shadow-md hover:shadow-lg",secondary:"bg-terrasse-yellow text-terrasse-black hover:bg-terrasse-yellow/90 focus:ring-terrasse-yellow shadow-md hover:shadow-lg",outline:"border-2 border-terrasse-blue text-terrasse-blue hover:bg-terrasse-blue hover:text-white focus:ring-terrasse-blue"}[a],{sm:"px-4 py-2 text-lg",md:"px-6 py-3 text-xl",lg:"px-8 py-4 text-2xl"}[c],e&&"cursor-wait",f),disabled:h||e,...i,children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Chargement..."]}):g}));e.displayName="Button",a.s(["Button",0,e])},37628,a=>{"use strict";var b=a.i(87924),c=a.i(46271);function d(){return(0,b.jsxs)("section",{style:{padding:"60px 20px",height:"70vh",display:"flex",justifyContent:"center",alignItems:"center"},className:"relative w-full bg-gradient-to-br from-terrasse-red via-terrasse-yellow to-terrasse-blue overflow-hidden py-16 md:py-24 lg:py-32",children:[(0,b.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,b.jsx)("div",{className:"absolute top-8 left-8 text-6xl md:text-8xl",children:"📸"}),(0,b.jsx)("div",{className:"absolute top-16 right-12 text-5xl md:text-7xl",children:"✍️"}),(0,b.jsx)("div",{className:"absolute bottom-12 left-16 text-7xl md:text-9xl",children:"💭"}),(0,b.jsx)("div",{className:"absolute bottom-8 right-8 text-5xl md:text-7xl",children:"❤️"}),(0,b.jsx)("div",{className:"absolute top-1/2 left-1/3 text-4xl md:text-6xl",children:"🌟"})]}),(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"relative z-10 container mx-auto px-6 md:px-8 lg:px-12 max-w-6xl",children:(0,b.jsxs)(c.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[(0,b.jsx)(c.motion.h1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6,type:"spring"},className:"font-bebas text-6xl sm:text-7xl md:text-8xl lg:text-9xl text-terrasse-black leading-none mb-6",children:"Livre d'Or"}),(0,b.jsx)(c.motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.6},className:"text-terrasse-black text-xl md:text-2xl lg:text-3xl font-medium max-w-3xl mx-auto leading-relaxed",children:"Partagez votre expérience à La Terrasse !"}),(0,b.jsx)(c.motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.6},className:"text-terrasse-black/80 text-base md:text-lg lg:text-xl mt-4 max-w-2xl mx-auto",children:"Laissez un message, une photo, ou les deux pour immortaliser votre passage chez nous. Chaque souvenir compte ! 📷✨"})]})})]})}a.s(["GalerieHero",()=>d])},7342,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(12466),f=a.i(64600),g=a.i(71987);function h(){let[a,h]=(0,c.useState)({email:"",message:"",image:null}),[i,j]=(0,c.useState)({}),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),o=(0,c.useRef)(null),p=async b=>{b.preventDefault(),(()=>{let b={};if(a.email.trim()){var c;c=a.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)||(b.email="Email invalide")}else b.email="L'email est requis";return a.message.trim()||a.image||(b.general="Vous devez ajouter au moins un message ou une image"),a.message.length>f.GALLERY_CONFIG.maxMessageLength&&(b.message=`Le message ne peut pas d\xe9passer ${f.GALLERY_CONFIG.maxMessageLength} caract\xe8res`),j(b),0===Object.keys(b).length})()&&(n(!0),setTimeout(()=>{console.log("Données du formulaire:",a),alert("✅ Votre souvenir a été ajouté avec succès!"),h({email:"",message:"",image:null}),l(null),j({}),n(!1),o.current&&(o.current.value="")},1500))};return(0,b.jsx)("section",{style:{padding:"60px 20px",display:"flex",justifyContent:"center",alignItems:"center"},className:"py-12 md:py-16 lg:py-20 bg-terrasse-white",children:(0,b.jsx)("div",{className:"container mx-auto px-6 md:px-8 lg:px-12 max-w-4xl",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"bg-white rounded-2xl shadow-2xl p-6 md:p-8 lg:p-10 border-4 border-terrasse-yellow",children:[(0,b.jsx)("h2",{style:{margin:"20px 0"},className:"font-bebas text-4xl md:text-5xl lg:text-6xl text-terrasse-red mb-6 text-center",children:"Partagez votre souvenir 💭"}),(0,b.jsxs)("form",{onSubmit:p,className:"space-y-6",style:{padding:"20px 10px"},children:[(0,b.jsxs)("div",{style:{margin:"20px 0"},children:[(0,b.jsxs)("label",{htmlFor:"email",className:"block text-lg font-semibold text-terrasse-black mb-2",children:["Votre email ",(0,b.jsx)("span",{className:"text-terrasse-red",children:"*"})]}),(0,b.jsx)("input",{type:"email",id:"email",value:a.email,onChange:b=>h({...a,email:b.target.value}),className:`w-full px-4 py-3 rounded-lg border-2 text-lg ${i.email?"border-terrasse-red":"border-gray-300 focus:border-terrasse-blue"} focus:outline-none focus:ring-2 focus:ring-terrasse-blue/20 transition-all`,placeholder:"votre.email@exemple.com"}),i.email&&(0,b.jsx)("p",{className:"text-terrasse-red text-sm mt-2",children:i.email})]}),(0,b.jsxs)("div",{style:{margin:"20px 0"},children:[(0,b.jsx)("label",{htmlFor:"message",className:"block text-lg font-semibold text-terrasse-black mb-2",children:"Votre message"}),(0,b.jsx)("textarea",{id:"message",value:a.message,onChange:b=>h({...a,message:b.target.value}),rows:5,className:`w-full px-4 py-3 rounded-lg border-2 text-lg resize-none ${i.message?"border-terrasse-red":"border-gray-300 focus:border-terrasse-blue"} focus:outline-none focus:ring-2 focus:ring-terrasse-blue/20 transition-all`,placeholder:"Racontez-nous votre expérience à La Terrasse... 🍔✨"}),(0,b.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[a.message.length," / ",f.GALLERY_CONFIG.maxMessageLength]}),i.message&&(0,b.jsx)("p",{className:"text-terrasse-red text-sm",children:i.message})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-lg font-semibold text-terrasse-black mb-2",children:"Ajouter une photo 📸"}),k?(0,b.jsxs)("div",{className:"relative rounded-lg overflow-hidden border-2 border-terrasse-yellow",style:{margin:"20px 0"},children:[(0,b.jsx)(g.default,{src:k,alt:"Aperçu",width:800,height:600,className:"w-full h-64 object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>{h({...a,image:null}),l(null),o.current&&(o.current.value="")},className:"absolute top-2 right-2 bg-terrasse-red text-white rounded-full p-2 hover:bg-terrasse-red/80 transition-colors","aria-label":"Supprimer l'image",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,b.jsxs)("div",{style:{margin:"20px 0"},onClick:()=>o.current?.click(),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-terrasse-blue hover:bg-terrasse-blue/5 transition-all",children:[(0,b.jsx)("div",{className:"text-5xl mb-3",children:"📤"}),(0,b.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Cliquez pour choisir une image"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"JPG, PNG ou WEBP (max 5MB)"})]}),(0,b.jsx)("input",{ref:o,type:"file",accept:f.GALLERY_CONFIG.allowedFormats.join(","),onChange:b=>{let c=b.target.files?.[0];if(!c)return;if(!f.GALLERY_CONFIG.allowedFormats.includes(c.type))return void j({...i,image:"Format non supporté. Utilisez JPG, PNG ou WEBP."});if(c.size>f.GALLERY_CONFIG.maxImageSize)return void j({...i,image:"L'image est trop volumineuse (max 5MB)"});let d=new FileReader;d.onloadend=()=>{l(d.result)},d.readAsDataURL(c),h({...a,image:c}),j({...i,image:void 0})},className:"hidden"}),i.image&&(0,b.jsx)("p",{className:"text-terrasse-red text-sm mt-2",children:i.image})]}),i.general&&(0,b.jsx)("div",{className:"bg-terrasse-red/10 border-2 border-terrasse-red rounded-lg p-4",children:(0,b.jsx)("p",{className:"text-terrasse-red font-medium",children:i.general})}),(0,b.jsx)(e.Button,{type:"submit",size:"lg",disabled:m,className:"w-full text-xl py-6 shadow-lg hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"inline-block animate-spin mr-2",children:"⏳"}),"Envoi en cours..."]}):(0,b.jsx)(b.Fragment,{children:"Partager mon souvenir 🚀"})})]})]})})})}a.s(["PostSubmissionForm",()=>h])},1544,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(71987);let f={small:"col-span-2",medium:"col-span-3",large:"col-span-4",xlarge:"col-span-4"},g=["from-terrasse-red/10 to-terrasse-red/20 border-terrasse-red","from-terrasse-blue/10 to-terrasse-blue/20 border-terrasse-blue","from-terrasse-yellow/10 to-terrasse-yellow/20 border-terrasse-yellow","from-purple-100 to-purple-200 border-purple-400","from-green-100 to-green-200 border-green-400","from-pink-100 to-pink-200 border-pink-400"];function h({post:a,size:c}){var h;let i,j=g[Math.floor(Math.random()*g.length)],k=(Math.random()-.5)*3,l=!!a.imageUrl,m=!!a.message;return(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},whileHover:{scale:1.02,rotate:0,zIndex:50,transition:{duration:.2}},className:`${f[c]} relative group cursor-pointer`,style:{rotate:`${k}deg`},children:[(0,b.jsxs)("div",{className:`w-full rounded-xl border-4 shadow-lg overflow-hidden bg-gradient-to-br ${j} hover:shadow-2xl transition-shadow duration-300`,children:[l&&(0,b.jsx)("div",{className:`relative w-full overflow-hidden ${"small"===c?"h-40":""} ${"medium"===c?"h-56":""} ${"large"===c?"h-72":""} ${"xlarge"===c?"h-80":""}`,children:(0,b.jsx)(e.default,{src:a.imageUrl||"",alt:"Photo partagée",fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-300",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),(0,b.jsxs)("div",{className:"p-4 md:p-5 flex flex-col min-h-[120px]",children:[m&&(0,b.jsx)("p",{className:`text-terrasse-black font-medium leading-relaxed mb-3 ${"small"===c?"text-sm":""} ${"medium"===c?"text-base":""} ${"large"===c?"text-base":""} ${"xlarge"===c?"text-lg":""}`,children:a.message}),(0,b.jsx)("div",{className:"flex-grow"}),(0,b.jsxs)("div",{className:"mt-4 pt-3 border-t-2 border-terrasse-black/20 flex items-center justify-between text-sm text-terrasse-black/70",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"text-base",children:"❤️"}),(0,b.jsx)("span",{className:"font-semibold",children:a.likesCount})]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"text-base",children:"💬"}),(0,b.jsx)("span",{className:"font-semibold",children:a.commentsCount})]})]}),(0,b.jsx)("time",{className:"text-xs",children:a.createdAt.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]})]})]}),(h=a.createdAt,(i=new Date).setDate(i.getDate()-3),h>i&&(0,b.jsx)("div",{className:"absolute -top-2 -right-2 bg-terrasse-red text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg transform rotate-12 z-10",children:"NOUVEAU 🔥"}))]})}var i=a.i(53250);let j=a=>({id:a.id,userId:a.user_id,message:a.message,imageUrl:a.image_url,likesCount:a.likes_count,commentsCount:a.comments_count,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at),user:{id:a.user_id,email:"",createdAt:new Date,updatedAt:new Date}}),k=["medium","small","large","small","medium","xlarge","small","large","medium","small","xlarge","medium","small","large","medium"];function l(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null);return((0,c.useEffect)(()=>{!async function(){try{g(!0);let a=await i.api.posts.getAll(),b=(a.data?.filter(a=>a.approved)||[]).map(j);e(b)}catch(a){console.error("Erreur lors du chargement des posts:",a),m("Impossible de charger les souvenirs")}finally{g(!1)}}()},[]),f)?(0,b.jsx)("section",{style:{padding:"60px 20px",display:"flex",justifyContent:"center",alignItems:"center"},className:"py-16 md:py-20 bg-terrasse-white",children:(0,b.jsx)("div",{className:"container mx-auto px-6 md:px-8 lg:px-12 max-w-7xl",children:(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("div",{className:"text-8xl mb-6 animate-pulse",children:"⏳"}),(0,b.jsx)("h3",{className:"font-bebas text-4xl md:text-5xl text-terrasse-black mb-4",children:"Chargement des souvenirs..."})]})})}):l?(0,b.jsx)("section",{style:{padding:"60px 20px",display:"flex",justifyContent:"center",alignItems:"center"},className:"py-16 md:py-20 bg-terrasse-white",children:(0,b.jsx)("div",{className:"container mx-auto px-6 md:px-8 lg:px-12 max-w-7xl",children:(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("div",{className:"text-8xl mb-6",children:"❌"}),(0,b.jsx)("h3",{className:"font-bebas text-4xl md:text-5xl text-terrasse-black mb-4",children:l}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-6 px-6 py-3 bg-terrasse-blue text-white rounded-full font-bold hover:bg-terrasse-blue/90",children:"Réessayer"})]})})}):0===a.length?(0,b.jsx)("section",{style:{padding:"60px 20px",display:"flex",justifyContent:"center",alignItems:"center"},className:"py-16 md:py-20 bg-terrasse-white",children:(0,b.jsx)("div",{className:"container mx-auto px-6 md:px-8 lg:px-12 max-w-7xl",children:(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("div",{className:"text-8xl mb-6",children:"📭"}),(0,b.jsx)("h3",{className:"font-bebas text-4xl md:text-5xl text-terrasse-black mb-4",children:"Pas encore de souvenirs"}),(0,b.jsx)("p",{className:"text-lg text-gray-600",children:"Soyez le premier à partager votre expérience !"})]})})}):(0,b.jsx)("section",{className:"py-16 md:py-20 lg:py-24 bg-terrasse-white",style:{padding:"60px 20px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,b.jsx)("div",{className:"container mx-auto px-6 md:px-8 lg:px-12 max-w-7xl",children:(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6},children:[(0,b.jsx)("h2",{className:"font-bebas text-5xl md:text-6xl lg:text-7xl text-terrasse-red mb-4 text-center",children:"Mur des souvenirs 📸"}),(0,b.jsx)("p",{className:"text-center text-lg md:text-xl text-gray-600 mb-12 max-w-2xl mx-auto",children:"Découvrez les moments partagés par notre incroyable communauté !"})]}),(0,b.jsx)("div",{className:"w-full",children:(0,b.jsx)("div",{style:{padding:"20px 10px"},className:"grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-8 gap-4 md:gap-6 items-start",children:a.map((a,c)=>{let d=k[c%k.length];return(0,b.jsx)(h,{post:a,size:d},a.id)})})}),(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-12 text-center",children:(0,b.jsx)("button",{style:{padding:"10px 20px"},className:"px-8 py-4 bg-terrasse-blue text-white font-bold text-lg rounded-full hover:bg-terrasse-blue/90 hover:scale-105 transition-all shadow-lg",onClick:()=>alert("Fonctionnalité à venir ! 🚀"),children:"Charger plus de souvenirs 📚"})})]})})})}a.s(["MasonryGallery",()=>l],1544)}];

//# sourceMappingURL=_db565e1a._.js.map