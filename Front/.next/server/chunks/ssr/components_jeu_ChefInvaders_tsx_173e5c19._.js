module.exports=[34989,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=["ðŸ…","ðŸ¥•","ðŸ¥’","ðŸ§…","ðŸ¥”","ðŸŒ¶ï¸","ðŸ¥¦","ðŸ†"];function e(){let a=(0,c.useRef)(null),[e,f]=(0,c.useState)("menu"),[g,h]=(0,c.useState)(0),[i,j]=(0,c.useState)(0),[k,l]=(0,c.useState)(1),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(""),w=(0,c.useRef)(0),x=(0,c.useRef)(new Set),y=(0,c.useRef)({x:160,y:420,width:40,height:40}),z=(0,c.useRef)([]),A=(0,c.useRef)([]),B=(0,c.useRef)("right"),C=(0,c.useRef)(0);(0,c.useRef)(0);let D=(0,c.useCallback)(a=>{let b=[],c=1+(a-1)*.15;for(let a=0;a<3;a++)for(let e=0;e<6;e++)b.push({x:51.42857142857143*(e+.5),y:40+50*a,width:35,height:35,speed:+c,emoji:d[Math.floor(Math.random()*d.length)],points:10*(a+1)});A.current=b,B.current="right"},[]),E=(0,c.useCallback)(b=>{let c=a.current;if(!c)return;let d=c.getContext("2d");if(!d)return;d.fillStyle="#1e293b",d.fillRect(0,0,360,480);let g=y.current;x.current.has("ArrowLeft")&&g.x>0&&(g.x-=6),x.current.has("ArrowRight")&&g.x<320&&(g.x+=6);let i=Date.now();x.current.has(" ")&&i-C.current>250&&(z.current.push({x:g.x+20-3,y:g.y,width:6,height:16,active:!0}),C.current=i),z.current=z.current.filter(a=>!!a.active&&(a.y-=9,!(a.y<-16))&&(d.fillStyle="#c0c0c0",d.fillRect(a.x,a.y,a.width,.7*a.height),d.fillStyle="#8b4513",d.fillRect(a.x-1,a.y+.7*a.height,a.width+2,.3*a.height),d.fillStyle="#ffffff",d.fillRect(a.x+2,a.y+2,2,.5*a.height),!0));let j=!1,m=A.current;if(m.length>0){let a=Math.min(...m.map(a=>a.x)),b=Math.max(...m.map(a=>a.x+a.width));"right"===B.current&&b>=350?(B.current="left",j=!0):"left"===B.current&&a<=10&&(B.current="right",j=!0),m.forEach(a=>{j?a.y+=20:a.x+="right"===B.current?a.speed:-a.speed})}z.current.forEach(a=>{m.forEach((b,c)=>{a.active&&a.x<b.x+b.width&&a.x+a.width>b.x&&a.y<b.y+b.height&&a.y+a.height>b.y&&(a.active=!1,h(a=>a+b.points),m.splice(c,1))})}),m.forEach(a=>{d.font=`${a.width}px Arial`,d.textAlign="center",d.textBaseline="middle",d.fillText(a.emoji,a.x+a.width/2,a.y+a.height/2),a.y+a.height>=g.y&&f("gameOver")}),d.fillStyle="#ffffff",d.beginPath(),d.ellipse(g.x+g.width/2,g.y+15,20,15,0,0,2*Math.PI),d.fill(),d.fillStyle="#ffffff",d.fillRect(g.x+g.width/2-15,g.y,30,15),d.fillStyle="#ffdbac",d.beginPath(),d.arc(g.x+g.width/2,g.y+35,18,0,2*Math.PI),d.fill(),d.fillStyle="#000000",d.beginPath(),d.arc(g.x+g.width/2-7,g.y+32,2,0,2*Math.PI),d.arc(g.x+g.width/2+7,g.y+32,2,0,2*Math.PI),d.fill(),d.strokeStyle="#000000",d.lineWidth=2,d.beginPath(),d.arc(g.x+g.width/2,g.y+35,8,.2,Math.PI-.2),d.stroke(),d.fillStyle="#ffffff",d.fillRect(g.x+g.width/2-18,g.y+45,36,15),0===m.length&&(l(a=>a+1),D(k+1),h(a=>a+100*k)),"playing"===e&&(w.current=requestAnimationFrame(E))},[e,k,D]),F=(0,c.useCallback)(()=>{f("playing"),h(0),l(1),y.current.x=160,z.current=[],D(1)},[D]);(0,c.useEffect)(()=>{let a=a=>{["ArrowLeft","ArrowRight"," "].includes(a.key)&&(a.preventDefault(),x.current.add(a.key)),"Escape"===a.key&&"playing"===e&&f("paused")},b=a=>{x.current.delete(a.key)};return window.addEventListener("keydown",a),window.addEventListener("keyup",b),()=>{window.removeEventListener("keydown",a),window.removeEventListener("keyup",b)}},[e]),(0,c.useEffect)(()=>("playing"===e&&(w.current=requestAnimationFrame(E)),()=>{w.current&&cancelAnimationFrame(w.current)}),[e,E]),(0,c.useEffect)(()=>{g>i&&j(g)},[g,i]),(0,c.useEffect)(()=>{"gameOver"===e&&w.current&&cancelAnimationFrame(w.current)},[e]);let G=async()=>{if(!o.trim())return void v("âŒ Veuillez entrer un nom");if(!q.trim()||!q.includes("@"))return void v("âŒ Veuillez entrer un email valide");t(!0),v("");try{(await fetch("https://laterrasse.onrender.com/api/game-scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerName:o.trim(),playerEmail:q.trim(),score:g,difficulty:k>=5?"hard":k>=3?"medium":"easy",gameDuration:Math.floor(Date.now()/1e3)})})).ok?(v("âœ… Score enregistrÃ© avec succÃ¨s !"),p(""),r(""),setTimeout(()=>{n(!1),v("")},2e3)):v("âŒ Erreur lors de l'enregistrement")}catch(a){v("âŒ Erreur de connexion au serveur")}finally{t(!1)}},H=(a,b)=>{if("left"===a||"right"===a){let c="left"===a?"ArrowLeft":"ArrowRight";b?x.current.add(c):x.current.delete(c)}else"shoot"===a&&b&&(x.current.add(" "),setTimeout(()=>x.current.delete(" "),100))};return(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 pb-8",children:[(0,b.jsxs)("div",{style:{padding:"20pxgit a"},className:"relative bg-gradient-to-b from-purple-400 via-purple-500 to-purple-600 rounded-3xl p-6 shadow-2xl max-w-md mx-auto border-8 border-purple-700",children:[(0,b.jsxs)("div",{className:"text-center mb-3",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-purple-900 tracking-wider",children:"CHEF BOY"}),(0,b.jsx)("div",{className:"text-xs text-purple-800 tracking-widest",children:"ADVANCE"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-b from-slate-700 to-slate-800 rounded-2xl p-4 mb-6 shadow-inner",style:{padding:"10px"},children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${"playing"===e?"bg-red-500 animate-pulse":"bg-red-900"}`}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:"POWER"})]}),(0,b.jsxs)("div",{className:"flex justify-between mb-2 px-2",children:[(0,b.jsxs)("div",{className:"text-green-400 text-sm font-mono",children:["SCORE: ",g.toString().padStart(6,"0")]}),(0,b.jsxs)("div",{className:"text-green-400 text-sm font-mono",children:["LV: ",k.toString().padStart(2,"0")]})]}),(0,b.jsxs)("div",{className:"relative bg-[#9bbc0f] rounded-lg overflow-hidden shadow-lg border-4 border-slate-900",children:[(0,b.jsx)("canvas",{ref:a,width:360,height:480,className:"w-full h-auto",style:{imageRendering:"crisp-edges"}}),"menu"===e&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80",children:(0,b.jsxs)("div",{className:"text-center text-white space-y-4 p-4",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"ðŸ§‘â€ðŸ³ Chef Invaders ðŸ”ª"}),(0,b.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,b.jsx)("p",{style:{margin:"10px 0"},children:"D-Pad : DÃ©placer"}),(0,b.jsx)("p",{children:"Bouton A : Tirer"})]}),(0,b.jsx)("button",{style:{padding:"5px 10px",margin:"10px 0"},onClick:F,className:"mt-4 px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold transition-colors",children:"START"})]})}),"paused"===e&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80",children:(0,b.jsxs)("div",{className:"text-center text-white space-y-4",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold",children:"â¸ï¸ PAUSE"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>f("playing"),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-bold",children:"REPRENDRE"}),(0,b.jsx)("button",{onClick:()=>f("menu"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-bold",children:"MENU"})]})]})}),"gameOver"===e&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/90 overflow-y-auto",children:(0,b.jsxs)("div",{className:"text-center text-white space-y-3 p-4 max-w-md",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-red-500",children:"GAME OVER!"}),(0,b.jsxs)("div",{className:"text-lg space-y-1",style:{margin:"10px 0"},children:[(0,b.jsxs)("p",{style:{margin:"10px 0"},children:["Score: ",(0,b.jsx)("span",{className:"text-yellow-400 font-bold",children:g})]}),(0,b.jsxs)("p",{style:{margin:"10px 0"},children:["Niveau: ",(0,b.jsx)("span",{className:"text-green-400 font-bold",children:k})]}),g===i&&g>0&&(0,b.jsx)("p",{className:"text-purple-400 font-bold animate-pulse text-sm",children:"ðŸ† RECORD ! ðŸ†"})]}),m?(0,b.jsxs)("div",{className:"bg-slate-800 p-4 rounded-lg space-y-3",style:{margin:"15px 0"},children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-green-400",children:"ðŸ“ Enregistrer le score"}),(0,b.jsxs)("div",{className:"space-y-2 text-left",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-300 mb-1",children:"Nom :"}),(0,b.jsx)("input",{type:"text",value:o,onChange:a=>p(a.target.value),placeholder:"Votre nom",maxLength:50,className:"w-full px-3 py-2 bg-slate-700 text-white rounded border border-slate-600 focus:border-green-500 focus:outline-none text-sm"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-300 mb-1",children:"Email :"}),(0,b.jsx)("input",{type:"email",value:q,onChange:a=>r(a.target.value),placeholder:"votre@email.com",className:"w-full px-3 py-2 bg-slate-700 text-white rounded border border-slate-600 focus:border-green-500 focus:outline-none text-sm"})]})]}),u&&(0,b.jsx)("p",{className:`text-sm ${u.includes("âœ…")?"text-green-400":"text-red-400"}`,children:u}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:G,disabled:s,className:`flex-1 px-4 py-2 rounded-lg font-bold text-sm ${s?"bg-gray-600 cursor-not-allowed":"bg-green-600 hover:bg-green-700"} text-white`,children:s?"â³ Envoi...":"âœ… Valider"}),(0,b.jsx)("button",{onClick:()=>{n(!1),v("")},disabled:s,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-bold text-sm",children:"âœ–ï¸"})]})]}):(0,b.jsxs)("div",{className:"space-y-3",style:{margin:"15px 0"},children:[(0,b.jsx)("button",{onClick:()=>n(!0),className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-bold text-sm w-full",children:"ðŸ’¾ Enregistrer mon score"}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Entrez dans le tableau des meilleurs scores !"})]}),(0,b.jsxs)("div",{className:"flex gap-3 justify-center",style:{margin:"10px 0"},children:[(0,b.jsx)("button",{style:{padding:"10px 20px"},onClick:F,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm font-bold",children:"REJOUER"}),(0,b.jsx)("button",{style:{padding:"10px 20px"},onClick:()=>f("menu"),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg text-sm font-bold",children:"MENU"})]})]})})]}),(0,b.jsx)("div",{className:"mt-2 text-center",children:(0,b.jsxs)("span",{className:"text-xs text-slate-400 font-mono",children:["HI-SCORE: ",i.toString().padStart(6,"0")]})})]}),(0,b.jsxs)("div",{className:"flex justify-between items-end px-2",children:[(0,b.jsx)("div",{className:"relative w-32 h-32",children:(0,b.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-slate-800 rounded-sm"}),(0,b.jsx)("button",{onTouchStart:()=>H("left",!0),onTouchEnd:()=>H("left",!1),onMouseDown:()=>H("left",!0),onMouseUp:()=>H("left",!1),onMouseLeave:()=>H("left",!1),className:"absolute left-0 top-1/2 -translate-y-1/2 w-12 h-10 bg-slate-800 hover:bg-slate-700 active:bg-slate-600 rounded-l-lg shadow-lg border-2 border-slate-900 flex items-center justify-center text-white font-bold select-none",style:{touchAction:"none"},children:"â—€"}),(0,b.jsx)("button",{onTouchStart:()=>H("right",!0),onTouchEnd:()=>H("right",!1),onMouseDown:()=>H("right",!0),onMouseUp:()=>H("right",!1),onMouseLeave:()=>H("right",!1),className:"absolute right-0 top-1/2 -translate-y-1/2 w-12 h-10 bg-slate-800 hover:bg-slate-700 active:bg-slate-600 rounded-r-lg shadow-lg border-2 border-slate-900 flex items-center justify-center text-white font-bold select-none",style:{touchAction:"none"},children:"â–¶"})]})}),(0,b.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("button",{onTouchStart:()=>H("shoot",!0),onMouseDown:()=>H("shoot",!0),className:"w-16 h-16 bg-red-600 hover:bg-red-700 active:bg-red-800 rounded-full shadow-lg border-4 border-red-800 flex items-center justify-center text-white font-bold text-xl select-none transition-all",style:{touchAction:"none"},children:"A"}),(0,b.jsx)("span",{className:"text-xs text-purple-900 font-bold block mt-1",children:"FIRE"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("button",{onClick:()=>{"playing"===e?f("paused"):"paused"===e&&f("playing")},className:"w-16 h-16 bg-yellow-500 hover:bg-yellow-600 active:bg-yellow-700 rounded-full shadow-lg border-4 border-yellow-700 flex items-center justify-center text-white font-bold text-xl select-none transition-all",style:{touchAction:"none"},children:"B"}),(0,b.jsx)("span",{className:"text-xs text-purple-900 font-bold block mt-1",children:"PAUSE"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-center gap-4 mt-6",style:{margin:"10px 0"},children:[(0,b.jsx)("button",{onClick:()=>"menu"===e&&F(),className:"px-6 py-2 bg-slate-700 hover:bg-slate-600 active:bg-slate-500 rounded-full text-xs text-white font-bold shadow-md transform rotate-[-10deg] select-none",style:{touchAction:"none",padding:"2px 5px"},children:"START"}),(0,b.jsx)("button",{onClick:()=>f("menu"),className:"px-6 py-2 bg-slate-700 hover:bg-slate-600 active:bg-slate-500 rounded-full text-xs text-white font-bold shadow-md transform rotate-[-10deg] select-none",style:{touchAction:"none",padding:"2px 5px"},children:"SELECT"})]}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 flex flex-col gap-1",children:[...Array(6)].map((a,c)=>(0,b.jsx)("div",{className:"flex gap-1",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"w-1 h-1 rounded-full bg-purple-700"},c))},c))})]}),(0,b.jsxs)("div",{style:{padding:"20px",margin:"5px 0"},className:"bg-slate-800 p-4 rounded-lg border-2 border-slate-600 text-white max-w-md text-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-bold mb-2",children:"ðŸ“– Instructions :"}),(0,b.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,b.jsx)("li",{children:"â€¢ Utilisez le D-Pad pour dÃ©placer le chef"}),(0,b.jsx)("li",{children:"â€¢ Bouton A pour lancer des couteaux"}),(0,b.jsx)("li",{children:"â€¢ Bouton B pour mettre en pause"}),(0,b.jsx)("li",{children:"â€¢ Ã‰liminez tous les ingrÃ©dients !"}),(0,b.jsx)("li",{children:"â€¢ La difficultÃ© augmente Ã  chaque niveau"})]})]})]})}a.s(["ChefInvaders",()=>e])}];

//# sourceMappingURL=components_jeu_ChefInvaders_tsx_173e5c19._.js.map